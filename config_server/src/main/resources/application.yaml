spring:
  application:
    name: config_server
  cloud:
    config:
      server:
        git:
          uri: ${CONFIG_REPO_URL:https://github.com/shivamlc/ai-news-platform-config.git} # Use the CONFIG_REPO_URL environment variable or default if not set
          default-label: ${CONFIG_REPO_BRANCH:main} # Set the default branch to 'main'
          timeout: 50000 # Set connection timeout to 50000 milliseconds
          clone-on-start: true # Clone the repository on startup; otherwise, it clones on first request which can delay responses
          force-pull: true # Force pull the latest changes in all local repos of config server repo on each request
          basedir: /tmp/config-repos # Local directory to store cloned repositories
          search-paths: # Define subdirectories to search for configuration files
            - user_profile
            - eureka_server
  rabbitmq:
    host: localhost
    port: 5672
    username: "guest" #default username
    password: "guest" # password

  profiles:
    active: git # Activate the 'git' profile for configuration

# decrypts encrypted properties from config repo using the specified key
encrypt:
  key: ${CONFIG_ENCRYPTION_KEY:9357dc78abbed674f3192e12602b483265bb66a0078c0f2a4b2d9fcb18b9ea2c} # Use the ENCRYPTION_KEY environment variable or default if not set

# config server runs at port 8071
server:
  port: ${SERVER_PORT:8071}

# These settings are commonly used for easier monitoring and debugging in development or internal environments.
# For production, you may want to restrict endpoint exposure for security.
management:
  endpoints:
    web:
      exposure:
        include: "*" # This exposes all Spring Boot Actuator endpoints over HTTP (e.g., /actuator/health, /actuator/info, /actuator/bus/refresh, etc.).
  endpoint:
    health:
      show-details: always # This configures the /actuator/health endpoint to always show detailed health information, not just the overall status. This is useful for debugging and monitoring, as youâ€™ll see details about each health indicator (e.g., disk space, database, config server status).
      probes:
        enabled: true
  health:
    liveness-state: # determines if the application is alive
      enabled: true #localhost:8071/actuator/health/liveness
    readiness-state: # determines if the application is ready to accept/serve network requests
      enabled: true #localhost:8071/actuator/health/readiness

logging:
  color: always
  level:
    root: DEBUG
    org.springframework.cloud.config.server: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
